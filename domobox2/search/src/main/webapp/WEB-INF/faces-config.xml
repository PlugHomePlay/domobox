<?xml version="1.0" encoding="utf-8"?>
<faces-config xmlns="http://java.sun.com/xml/ns/javaee"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-facesconfig_2_0.xsd"
	version="2.0">
	<application>
		<!-- <component-event-listener> <component-event-listener-class>kasperimpl.jsf.authorization.MyComponentSystemEventListener</component-event-listener-class> 
			<component-event-class>javax.faces.event.ComponentSystemEvent</component-event-class> 
			</component-event-listener> -->
		<el-resolver>kasperimpl.jsf.component.ComponentELResolver</el-resolver>
		<el-resolver>kasperimpl.jsf.flow.CustomScopeELResolver</el-resolver>
		<!-- <navigation-handler>kasperimpl.jsf.flow.FlowNavigationHandler</navigation-handler> -->
		<!-- <action-listener>kasperimpl.jsf.authorization.SecurityActionListener</action-listener> -->
		<locale-config>
			<default-locale>fr</default-locale>
			<supported-locale>fr</supported-locale>
			<supported-locale>en</supported-locale>
		</locale-config>
	</application>
	<lifecycle>
		<phase-listener>kasperimpl.jsf.locale.LocalePhaseListener</phase-listener>
		<phase-listener>kasperimpl.jsf.MultiPageMessagesSupport</phase-listener>
		<phase-listener>fr.csn.suiviFormation.jsfui.util.UACompatibleHeaderPhaseListener</phase-listener>
		<phase-listener>fr.csn.suiviFormation.jsfui.util.LogPhaseListener</phase-listener>
	</lifecycle>
	<factory>
		<exception-handler-factory>fr.csn.suiviFormation.jsfui.exception.SuiviFormationExceptionHandlerFactory</exception-handler-factory>
	</factory>
	<render-kit>
		<renderer>
			<component-family>org.primefaces.component</component-family>
			<renderer-type>org.primefaces.component.MessagesRenderer</renderer-type>
			<renderer-class>fr.csn.suiviFormation.jsfui.component.SuiviFormationMessagesRenderer</renderer-class>
		</renderer>
	</render-kit>
	<navigation-rule>
		<from-view-id>*</from-view-id>
		<navigation-case>
			<from-outcome>error</from-outcome>
			<to-view-id>/pages/applicationError.xhtml</to-view-id>
			<redirect />
		</navigation-case>
		<navigation-case>
			<from-outcome>security</from-outcome>
			<to-view-id>/pages/applicationSecurityError.xhtml</to-view-id>
			<redirect />
		</navigation-case>
		<navigation-case>
			<from-outcome>accesrecette</from-outcome>
			<to-view-id>/pages/applicationAccesRecetteSecurityError.xhtml</to-view-id>
			<redirect />
		</navigation-case>
		<navigation-case>
			<from-outcome>changeclereal</from-outcome>
			<to-view-id>/pages/applicationChangeCleRealSecurityError.xhtml</to-view-id>
			<redirect />
		</navigation-case>
		<navigation-case>
			<from-outcome>noclereal</from-outcome>
			<to-view-id>/pages/applicationNoCleRealSecurityError.xhtml</to-view-id>
			<redirect />
		</navigation-case>
		<navigation-case>
			<from-outcome>unauthorizedclereal</from-outcome>
			<to-view-id>/pages/applicationUnauthorizedCleSecurityError.xhtml</to-view-id>
			<redirect />
		</navigation-case>
		<navigation-case>
			<from-outcome>viewExpired</from-outcome>
			<to-view-id>/pages/viewExpired.xhtml</to-view-id>
			<redirect />
		</navigation-case>
	</navigation-rule>
	<navigation-rule>
		<from-view-id>*</from-view-id>
		<navigation-case>
			<from-action>#{loginVCtrl.login}</from-action>
			<from-outcome>success</from-outcome>
			<to-view-id>/pages/accueil/accueil.xhtml</to-view-id>
			<redirect>
			</redirect>
		</navigation-case>
	</navigation-rule>
	<navigation-rule>
		<from-view-id>*</from-view-id>
		<navigation-case>
			<from-outcome>redirectAccueil</from-outcome>
			<to-view-id>/pages/accueil/accueil.xhtml</to-view-id>
			<redirect></redirect>
		</navigation-case>
	</navigation-rule>
	<navigation-rule>
		<from-view-id>*</from-view-id>
		<navigation-case>
			<from-outcome>redirectCguNotAccepted</from-outcome>
			<to-view-id>/pages/accueil/cgu.xhtml</to-view-id>
			<redirect></redirect>
		</navigation-case>
	</navigation-rule>
	<navigation-rule>
		<from-view-id>*</from-view-id>
		<navigation-case>
			<from-outcome>ACC_UTI_01</from-outcome>
			<to-view-id>/pages/accueil/accueilNotaire.xhtml</to-view-id>
			<redirect></redirect>
		</navigation-case>
		<navigation-case>
			<from-outcome>ACC_UTI_02</from-outcome>
			<to-view-id>/pages/accueil/accueilInstance.xhtml</to-view-id>
			<redirect></redirect>
		</navigation-case>
		<navigation-case>
			<from-outcome>ACC_UTI_03</from-outcome>
			<to-view-id>/pages/accueil/accueilCsn.xhtml</to-view-id>
			<redirect></redirect>
		</navigation-case>
		<navigation-case>
			<from-outcome>PLAN_UTI_01</from-outcome>
			<to-view-id>/pages/formation/planNotaire.xhtml</to-view-id>
			<redirect></redirect>
		</navigation-case>
		<navigation-case>
			<from-outcome>PLAN_UTI_02</from-outcome>
			<to-view-id>/pages/formation/planInstance.xhtml</to-view-id>
			<redirect>
				<view-param>
					<name>faireRecherche</name>
					<value>X</value>
				</view-param>
			</redirect>
		</navigation-case>
		<navigation-case>
			<from-outcome>PLAN_UTI_05</from-outcome>
			<to-view-id>/pages/formation/ficheFormationNotaireCreate.xhtml</to-view-id>
			<redirect></redirect>
		</navigation-case>
		<navigation-case>
			<from-outcome>ADM_UTI_01</from-outcome>
			<to-view-id>/pages/administration/utilisateursList.xhtml</to-view-id>
			<redirect></redirect>
		</navigation-case>
		<navigation-case>
			<from-outcome>ADM_TDR_TAB</from-outcome>
			<to-view-id>/pages/administration/referenceList.xhtml</to-view-id>
			<redirect></redirect>
		</navigation-case>
		<navigation-case>
			<from-outcome>ADM_TDR_04</from-outcome>
			<to-view-id>/pages/administration/organismeFormationList.xhtml</to-view-id>
			<redirect></redirect>
		</navigation-case>
		<navigation-case>
			<from-outcome>ADM_TDR_05</from-outcome>
			<to-view-id>/pages/administration/intituleFormationList.xhtml</to-view-id>
			<redirect></redirect>
		</navigation-case>
		<navigation-case>
			<from-outcome>ADM_TDR_07</from-outcome>
			<to-view-id>/pages/administration/equivalenceList.xhtml</to-view-id>
			<redirect></redirect>
		</navigation-case>
		<navigation-case>
			<from-outcome>ADM_TDR_08</from-outcome>
			<to-view-id>/pages/administration/droitsAccesCollaborateursOffice.xhtml</to-view-id>
			<redirect></redirect>
		</navigation-case>
		<navigation-case>
			<from-outcome>ADM_TDR_09</from-outcome>
			<to-view-id>/pages/administration/droitsAccesCollaborateursInstance.xhtml</to-view-id>
			<redirect></redirect>
		</navigation-case>
		<navigation-case>
			<from-outcome>STAT_UTI_TAB</from-outcome>
			<to-view-id>/pages/statistiques/statHome.xhtml</to-view-id>
			<redirect></redirect>
		</navigation-case>
		<navigation-case>
			<from-outcome>STAT_UTI_01</from-outcome>
			<to-view-id>/pages/statistiques/statSituationNotaire.xhtml</to-view-id>
			<redirect></redirect>
		</navigation-case>
		<navigation-case>
			<from-outcome>STAT_UTI_02</from-outcome>
			<to-view-id>/pages/statistiques/statRubriqueFormation.xhtml</to-view-id>
			<redirect></redirect>
		</navigation-case>
		<navigation-case>
			<from-outcome>STAT_UTI_03</from-outcome>
			<to-view-id>/pages/statistiques/statTypeFormation.xhtml</to-view-id>
			<redirect></redirect>
		</navigation-case>
		<navigation-case>
			<from-outcome>STAT_UTI_04</from-outcome>
			<to-view-id>/pages/statistiques/statOrganismeFormation.xhtml</to-view-id>
			<redirect></redirect>
		</navigation-case>
		<navigation-case>
			<from-outcome>STAT_UTI_05</from-outcome>
			<to-view-id>/pages/statistiques/statConsolidation.xhtml</to-view-id>
			<redirect></redirect>
		</navigation-case>
	</navigation-rule>
	<!-- ******************************************************** -->
	<!-- Utilisateur -->
	<!-- ******************************************************** -->
	<navigation-rule>
		<from-view-id>/pages/administration/utilisateurDetailEdit.xhtml</from-view-id>
		<navigation-case>
			<from-action>#{utilisateurDetailEditVCtrl.changerProfil}</from-action>
			<from-outcome>success</from-outcome>
			<to-view-id>/pages/administration/utilisateurDetailCons.xhtml</to-view-id>
			<redirect>
				<view-param>
					<name>utiId</name>
					<value>#{utilisateurDetailEditVCtrl.dtoId}</value>
				</view-param>
			</redirect>
		</navigation-case>
	</navigation-rule>
	
	<navigation-rule>
		<from-view-id>/pages/administration/utilisateurDetailCons.xhtml</from-view-id>
		<navigation-case>
			<from-action>#{utilisateurDetailConsVCtrl.connecterAs}</from-action>
			<from-outcome>success</from-outcome>
			<to-view-id>/pages/accueil/accueil.xhtml</to-view-id>
			<redirect>
				
			</redirect>
		</navigation-case>
	</navigation-rule>	
	<!-- ******************************************************** -->
	<!-- Validation Equivalence -->
	<!-- ******************************************************** -->
	<navigation-rule>
		<from-view-id>/pages/administration/validationEquivalenceEdit.xhtml</from-view-id>
		<navigation-case>
			<from-action>#{validationEquivalenceDetailEditVCtrl.saveEquivalence}</from-action>
			<from-outcome>success</from-outcome>
			<to-view-id>/pages/administration/validationEquivalenceCons.xhtml</to-view-id>
			<redirect>
				<view-param>
					<name>equId</name>
					<value>#{validationEquivalenceDetailConsVCtrl.dtoId}</value>
				</view-param>
			</redirect>
		</navigation-case>
	</navigation-rule>	
	<!-- ******************************************************** -->
	<!-- Administration des intitulÃ©s de formation -->
	<!-- ******************************************************** -->
	<navigation-rule>
		<from-view-id>/pages/administration/intituleFormationCreate.xhtml</from-view-id>
		<navigation-case>
			<from-action>#{intituleFormationCreateVCtrl.saveIntituleFormation}</from-action>
			<from-outcome>success</from-outcome>
			<to-view-id>/pages/administration/intituleFormationCons.xhtml</to-view-id>
			<redirect>
				<view-param>
					<name>infId</name>
					<value>#{intituleFormationCreateVCtrl.dto.infId}</value>
				</view-param>
			</redirect>
		</navigation-case>
	</navigation-rule>	<navigation-rule>
		<from-view-id>/pages/administration/intituleFormationEdit.xhtml</from-view-id>
		<navigation-case>
			<from-action>#{intituleFormationEditVCtrl.saveIntituleFormation}</from-action>
			<from-outcome>success</from-outcome>
			<to-view-id>/pages/administration/intituleFormationCons.xhtml</to-view-id>
			<redirect>
				<view-param>
					<name>infId</name>
					<value>#{intituleFormationEditVCtrl.dto.infId}</value>
				</view-param>
			</redirect>
		</navigation-case>
	</navigation-rule>	
	<navigation-rule>
		<from-view-id>/pages/administration/intituleFormationCons.xhtml</from-view-id>
		<navigation-case>
			<from-action>#{intituleFormationConsVCtrl.deleteIntituleFormation}</from-action>
			<from-outcome>success</from-outcome>
			<to-view-id>/pages/administration/intituleFormationList.xhtml</to-view-id>
			<redirect>
				<view-param>
					<name>faireRecherche</name>
					<value>"X"</value>
				</view-param>
			</redirect>
		</navigation-case>
	</navigation-rule>
	<navigation-rule>
		<from-view-id>/pages/formation/ficheFormationNotaireCreate.xhtml</from-view-id>
		<navigation-case>
			<from-action>#{cc.attrs.partieBasseCtrl.saveFormation()}</from-action>
			<from-outcome>success</from-outcome>
			<to-view-id>/pages/formation/planNotaire.xhtml</to-view-id>
			<redirect>
				<view-param>
					<name>plnId</name>
					<value>#{detailFicheFormationCreateVCtrl.frm.plnId}</value>
				</view-param>
			</redirect>
		</navigation-case>
	</navigation-rule>
	<navigation-rule>
		<from-view-id>/pages/formation/ficheFormationNotaireEdit.xhtml</from-view-id>
		<navigation-case>
			<from-action>#{cc.attrs.partieBasseCtrl.saveFormation()}</from-action>
			<from-outcome>success</from-outcome>
			<to-view-id>/pages/formation/planNotaire.xhtml</to-view-id>
			<redirect>
				<view-param>
					<name>plnId</name>
					<value>#{detailFicheFormationEditVCtrl.frm.plnId}</value>
				</view-param>
			</redirect>
		</navigation-case>
	</navigation-rule>
	<navigation-rule>
		<from-view-id>/pages/formation/ficheFormationNotaireCons.xhtml</from-view-id>
		<navigation-case>
			<from-action>#{detailFicheFormationConsVCtrl.supprimerFormation()}</from-action>
			<from-outcome>success</from-outcome>
			<to-view-id>/pages/formation/planNotaire.xhtml</to-view-id>
			<redirect>
				<view-param>
					<name>plnId</name>
					<value>#{detailFicheFormationConsVCtrl.frm.plnId}</value>
				</view-param>
			</redirect>
		</navigation-case>
	</navigation-rule>
	<navigation-rule>
		<from-view-id>/pages/formation/interruptionFormationEdit.xhtml</from-view-id>
		<navigation-case>
			<from-action>#{interruptionFormationEditVCtrl.save}</from-action>
			<from-outcome>success</from-outcome>
			<to-view-id>/pages/formation/planNotaire.xhtml</to-view-id>
			<redirect>
				<view-param>
					<name>plnId</name>
					<value>#{interruptionFormationEditVCtrl.dto.plnId}</value>
				</view-param>
			</redirect>
		</navigation-case>
	</navigation-rule>
</faces-config>